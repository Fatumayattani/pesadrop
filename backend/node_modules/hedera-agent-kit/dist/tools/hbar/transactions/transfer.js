"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.transfer_hbar = void 0;
const sdk_1 = require("@hashgraph/sdk");
const transfer_hbar = async (client, toAccountId, amount) => {
    const operatorAccountId = client.operatorAccountId?.toString();
    if (!operatorAccountId) {
        throw new Error("Invalid operator accountId in client");
    }
    const tx = new sdk_1.TransferTransaction()
        .addHbarTransfer(operatorAccountId, new sdk_1.Hbar(-amount))
        .addHbarTransfer(toAccountId, new sdk_1.Hbar(amount));
    const txResponse = await tx.execute(client);
    const receipt = await txResponse.getReceipt(client);
    const txStatus = receipt.status;
    if (!txStatus.toString().includes('SUCCESS'))
        throw new Error("HBAR Transfer Transaction failed");
    return {
        status: txStatus.toString(),
        txHash: txResponse.transactionId.toString(),
    };
};
exports.transfer_hbar = transfer_hbar;
//# sourceMappingURL=transfer.js.map